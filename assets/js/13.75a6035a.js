(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{210:function(a,t,s){"use strict";s.r(t);var e=s(0),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"elasticsearch-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-配置","aria-hidden":"true"}},[a._v("#")]),a._v(" ElasticSearch 配置")]),a._v(" "),s("h2",{attrs:{id:"单实例安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单实例安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 单实例安装")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("下载 ：https://www.elastic.co/downloads/elasticsearch")])]),a._v(" "),s("li",[s("p",[a._v("解压命令："),s("code",[a._v("tar -vxf elasticsearch-6.2.2.tar.gz")])])]),a._v(" "),s("li",[s("p",[a._v("启动命令： "),s("code",[a._v("./bin/elasticsearch")])])]),a._v(" "),s("li",[s("p",[a._v("验证启动 ：访问：http://localhost:9200/")])])]),a._v(" "),s("div",{staticClass:"language-JSON extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"EbJYm-O"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"cluster_name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"elasticsearch"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"cluster_uuid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ViVy1WUpQlmM68z8vBGNUQ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"number"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"6.2.4"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"build_hash"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ccec39f"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"build_date"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2018-04-12T20:37:28.497551Z"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"build_snapshot"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"lucene_version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"7.2.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"minimum_wire_compatibility_version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"5.6.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"minimum_index_compatibility_version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"5.0.0"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"tagline"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"You Know, for Search"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h2",{attrs:{id:"可视化插件安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可视化插件安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 可视化插件安装")]),a._v(" "),s("h3",{attrs:{id:"安装-elasticsearch-head"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-elasticsearch-head","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装 elasticsearch-head")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("git clone git://github.com/mobz/elasticsearch-head.git")])]),a._v(" "),s("li",[s("code",[a._v("cd elasticsearch-head")])]),a._v(" "),s("li",[s("code",[a._v("npm install")])]),a._v(" "),s("li",[s("code",[a._v("npm run start")])]),a._v(" "),s("li",[a._v("访问 http://localhost:9100/")])]),a._v(" "),s("h3",{attrs:{id:"设置可跨域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置可跨域","aria-hidden":"true"}},[a._v("#")]),a._v(" \b设置可跨域")]),a._v(" "),s("ul",[s("li",[s("p",[s("code",[a._v("vim ./config/elasticsearch.yml")])])]),a._v(" "),s("li",[s("p",[a._v("添加：")]),a._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true  ")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-origin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*"')]),a._v(" \n")])])])]),a._v(" "),s("li",[s("p",[a._v("启动 elasticsearch")])]),a._v(" "),s("li",[s("p",[a._v("启动 elasticsearch-head")])])]),a._v(" "),s("img",{attrs:{src:a.$withBase("/config/elasticSearch/es-head-run.png")}}),a._v(" "),s("h2",{attrs:{id:"分布式安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分布式安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 分布式安装")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("拷贝安装文件，分别命名为\b"),s("code",[a._v("master")]),a._v("、"),s("code",[a._v("slave1")]),a._v("和"),s("code",[a._v("slave2")])])]),a._v(" "),s("li",[s("p",[a._v("执行："),s("code",[a._v("vim master/config/elasticsearch.yml")])])]),a._v(" "),s("li",[s("p",[a._v("配置master")]),a._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" xwine\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" master\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.master")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("network.host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 127.0.0.1\n")])])])]),a._v(" "),s("li",[s("p",[a._v("配置slave1")]),a._v(" "),s("p",[a._v("执行："),s("code",[a._v("vim slave1/config/elasticsearch.yml")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('cluster.name: xwine\nnode.name: slave1\n\nnetwork.host: 127.0.0.1\nhttp.port: 9201\n\ndiscovery.zen.ping.unicast.hosts: ["127.0.0.1"]\n')])])])]),a._v(" "),s("li",[s("p",[a._v("配置slave2")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('cluster.name: xwine\nnode.name: slave2\n\nnetwork.host: 127.0.0.1\nhttp.port: 9202\n\ndiscovery.zen.ping.unicast.hosts: ["127.0.0.1"]\n')])])])]),a._v(" "),s("li",[s("p",[a._v("启动es集群")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("./master/bin/elasticsearch -d\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("./slave1/bin/elasticsearch -d\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("./slave2/bin/elasticsearch -d\n")])])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);